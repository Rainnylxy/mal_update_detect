import pyautogui
import random
import time
from tkinter import Tk, messagebox
import threading
import keyboard
from playsound import playsound

print("Start")

# Variabel om programma te stoppen
stopFlag = False

def listenForStop():
  global stopFlag

  # Commando om programma te stoppen
  keyboard.wait("ctrl+shift+l")
  stopFlag = True
  print("Program stopped")

def whileLoop():
  while not stopFlag:
    print("Programma loopt, druk op ctrl+shift+l om te stoppen.")
    time.sleep(30)

def moveMouse():
  while not stopFlag:

    # kiest random coördinaat op scherm gebaseerd op schermgrootte
    x= random.randint(0, pyautogui.size().width)
    y= random.randint(0, pyautogui.size().height)

    # Verplaats muis naar gekozen coördinaten
    pyautogui.moveTo(x, y, duration=0.1)

    print("Mouse moved")
    time.sleep(random.randint(5, 20))

def displayMessage():
  while not stopFlag:

    # Maak Tk window en verwijder deze vervolgens
    window = Tk()
    window.withdraw()

    # Laat message zien
    messagebox.showinfo("Mainframe malware", "Very fucking funny")

    # Extra methode om window te verwijderen
    window.destroy()

    print("Displayed message")
    time.sleep(10)

def testDef2():
  while not stopFlag:
    print("TestDef 2")
    time.sleep(1)

def testDef3():
  while not stopFlag:
    print("TestDef 3")
    time.sleep(1)

def chooseVirus():
  
  # Lijst met functies
  defList = [
    # moveMouse,
    displayMessage,
    # testDef2,
    # testDef3
  ]

  # Kies random nummer op basis van de lengte van de lijst met functies
  randomNumber = random.randint(0, (len(defList) - 1))

  print(randomNumber)
  print(len(defList))

  # Kies functie
  defList[randomNumber]()

threads = [
  threading.Thread(target=listenForStop),
  # threading.Thread(target=whileLoop),
  threading.Thread(target=chooseVirus)
]

for thread in threads:
  thread.start()

for thread in threads:
  thread.join()


